<!DOCTYPE html>
<title>Angband Releases: 2.7.9v3 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 2.7.9v3</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li>2.7.9v3<li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v2.7.9v3.tar.gz" title="Source tarball, 835k">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v3/angband-2.7.9v3-dos.zip" title="DOS port, 615k zip file">DOS</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v3/angband-2.7.9v3-ros.arc" title="RISC OS port, 615k Arc file">RISC OS</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v3/angband-2.7.9v3-ami.lha" title="Amiga port, 453k lha file.">Amiga</a></li>
</ul>

<h3>Background</h3>

<p>Version 2.7.9v3 was released on 24th January 1996 by Ben Harrison, and contained a host of internal cleanups as well as UI and gameplay changes.</p>

<p>One notable UI change was the ability to use the "repeat count" command to specify things other than repeats for some commands.  To drop two things from inventory slot 'e' for instance, you could now type '02de'.  The main advantage of this change was that it allowed macros to be written that would work consistently on any number of items - '0k-y' destroying a pile of objects on the floor, for instance.</p>

<p>Another change was that the damage dice of artifact weapons were all brought in line with the type of weapon they were based on so that, for instance, 'Aglarang' went from a damage roll of 6d8 to one of 8d4, because the Katana upon which it is based is 3d4.  The reasons for this were not explained at the time as it apparently went unremarked upon.  Perhaps it was to make artifacts less immediately obvious, perhaps to fit a notion of "consistency", or perhaps it was in preparation for some underlying change to how artifacts were generated which never happened.</p>

<h3>Changelist</h3>

<h4>Features</h4>

<ul>
<li>The "repeat count" is now used for various things, such as the "quantity"
of the "drop" or "destroy" command, if it is not being used for anything
else. </li>
<li>There is a new "recall most recent message" command ("ctrl-O"). </li>
<li>The "staff of darkness" now attempts to blind the player. </li>
<li>Aiming a wand of wonder on the ground at itself can no longer destroy the
wand, since this could have "messy" results. </li>
<li>The object distribution was cleaned up slightly. The artifact damage
sides were brought in line with the underlying object damage sides. </li>
<li>The player's total gold is now displayed in the Home. </li>
<li>The "Giant clear centipede" is now "clear". The "Giant purple worm" now
resists poison. The "Umber Hulk" is now a light umber "X" monster. The
"clear" monsters are now "white" in the recall window. </li>
<li>The "color scheme" of several monsters has been changed. See the new
"r_info.txt" file for more information. Most of the changes involve new
color schemes for "elemental" monsters (dragons, hounds, etc) and "people"
monsters (mages, warriors, etc). </li>
<li>The character description screen was cleaned up a bit, making room for
on-screen display of blows/round and shots/round. </li>
<li>The "options", "pref", and "macro" commands were made into full screen
commands starting at line two, and were cleaned up a lot. </li>
<li>A new command was added to directly specify a "user pref command", as if
it came from a "user pref file". </li>
<li>The glyph of protection now uses the "semi-colon" symbol. </li>
<li>Several terrain features got new colors, and the special lighting effects
now only affect floor grids. The result is much faster, and still rather
interesting to watch. </li>
<li>Several uses of the "saving throw" now have better "semantics" and/or
"messages". </li>
<li>Several messages about traps now include the name of the trap. </li>
<li>The "main-x11.c" and "main-xaw.c" files now support the "mirror" window,
and correctly handle the "TERM<em>XTRA</em>CLEAR" command. </li>
<li>A pre-compiled version using "main-ibm.c" for DOS-286 is now available. </li>
</ul>

<h4>Bugfixes and maintenance</h4>

<ul>
<li>One of the shop-keepers had an incorrect tolerance of zero. </li>
<li>The "main-ibm.c" file had to be rewritten several more times. It now
handles all known environments correctly. It was given a new default color
scheme, and a method to allow the user to choose among several pre-defined
color sets. The keypress code was cleaned up once and for all, and the
"main-win.c" file was changed to use the same macro triggers, and a new
"pref-ibm.prf" file was created using the new triggers. </li>
<li>Some minor bugs in "main-cap.c" and "main-gcu.c" were fixed. </li>
<li>The "show reduced map" command was optimized a lot. </li>
<li>The "notice<em>stuff()" function was broken up into several generic
"set</em>xxx()" functions, to handle "changes" in various "properties" of the
player, such as "blindness" or "paralysis". This now only made the game
faster, but also provided better "world semantics", and fixed some "bugs"
involving "blindness", "see invisible", etc. </li>
<li>Importing pre-2.7.9 no longer causes "Calris" to become re-cursed, as
long as the "uncursed" inscription is still present. </li>
<li>When an object is picked up (or a trap is disarmed) in a dark hallway or
room, a "marked" floor grid is no longer left behind. </li>
<li>The "note<em>spot()" function is now called when an object is dropped into a
grid (by the player or monsters). Also, neither "note</em>spot()" nor
"lite_spot()" are called during dungeon level generation. </li>
<li>Objects and terrain features now have separate "memorized" flags to
prevent visual glitches when memorized objects are picked up by the player
or by monsters. This had the side effect that "detected" dungeon objects
converted from pre-2.7.9v3 savefiles will lose their "detection" status,
leaving behind a "known" floor grid. </li>
<li>The "earthquake" spell now correctly creates "wall" grids. </li>
<li>The "monster health bar" is now updated after a monster casts a "heal"
spell on itself, drains mana/charges to heal self, or is hit by a "heal
monster" attack. </li>
<li>The "get_item()" function no longer has any visual glitches. </li>
<li>The "get_spell()" function now correctly uses the "mirror" window. </li>
<li>A nice generic quick-sort function now allows all of the sorting to be
done by one optimized function, and allows many more things to be sorted at
low cost. </li>
<li>The Borg was given a few patches, and was optimized some more. Also, it
was taught to consider all possible equipment combinations, and to use the
home to "stockpile" certain items. </li>
<li>Some patches for EM/ESA and Amiga and DOS-286 were added. </li>
<li>More optimizations were performed (visual display of the map grids, full
screen map, running, the Borg, the player command loop, message
memorization, update monster). </li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<!DOCTYPE html>
<title>Angband Releases: 2.7.9v4 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 2.7.9v4</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5~'>4.2.5~</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li>2.7.9v4<li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v2.7.9v4.tar.gz" title="Source tarball, 856k">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v4/angband-2.7.9v4-dos.zip" title="DOS port, 617k zip file">DOS</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v4/angband-2.7.9v4-ros.arc" title="RISC OS port, 529k Arc file">RISC OS</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v4/angband-2.7.9v4-ami.lha" title="Amiga port, 657k lha file.">Amiga</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.7.9v4/angband-2.7.9v4-os2.zip" title="OS/2 port, 522k zip file">OS/2</a></li>
</ul>

<h3>Background</h3>

<p>Version 2.7.9v4 was released on 24th February 1996, and consisted of the same sort of mixed bag of code cleanup, bugfixes and gameplay tweaks as the other 2.7.9 releases.</p>

<h3>Changelist</h3>

<h4>Features</h4>

<ul>
<li>The "disturb_other" option now induces disturbance when the player status
changes. This includes various subtle changes in "food", "cuts" and
"stuns", that do not induce actual messages. </li>
<li>The "list artifacts" command can now be used in the dungeon, since it
does not show the unknown artifacts on the dungeon floor, or in the player
inventory. </li>
<li>Cheating death now restores your hitpoints and spellpoints, and your
food, and such, and "recalls" you to the town. </li>
<li>The player can now directly drop/sell "equipment" items in stores. </li>
<li>The player inventory is correctly combined and reordered in stores, and
the "do<em>cmd</em>redraw()" function works in almost all situations. </li>
<li>Each store has been given an additional two "base items" from which to
choose its "stock", making certain items more common (low level books,
lanterns/oil, boots/armor, scrolls of identify/recall, and arrows/bolts),
and the temple sells more potions of restore life levels and no potions of
restore wisdom. </li>
<li>The "halberds" now do "3d5" damage not "3d4", some of the artifacts have
been given slightly different rarities or minimum levels, the "electric"
and "acid" brands now do "x3" damage not "x5" or "x2", and a few monsters
have been given new abilities. </li>
<li>There are some new spoiler files, and an "info.tar.gz" spoiler archive.
Many (but not all) of the files have been updated for Angband 2.7.9v4. </li>
<li>Items can no longer provide "immunity" to poison, only resistance, this
affected only a single artifact, and simplified some code. speed. </li>
<li>The eyes, icky things, jellies, oozes, molds, and mushrooms are no longer
"animals". </li>
<li>The "animal nest" code now uses the "animal" flag to choose contents. </li>
<li>Some more attr/char changes were made to the monster list, for example,
the "snakes" are now a special race using the "J" symbol. </li>
<li>Monster pits/nests now include all "acceptable" non-unique monsters,
including invisible, teleporting, and multiplying, monsters. </li>
<li>The player can no longer target non-projectable monsters, except via the
"target a location" command. This allows the use of macros which assume
that the "nearest" target is actually projectable. </li>
<li>The player can no longer "accidentally" run into a wall, running now
stops next to embedded treasure and rubble, and the running code has been
optimized some more. </li>
<li>The "command.txt" file has been updated to correctly describe the new
"Interact with macros", "Interact with visuals", "Interact with colors",
"Interact with options", and "Interact with the system" commands. </li>
<li>Most of the commands available in the dungeon are now available in
stores, though the "keymaps" are ignored. </li>
<li>Mushrooms of restore strength now cost 350 gold. </li>
<li>The "look" / "target" commands now start at the "closest" location. </li>
<li>The "message recall" command now allows the use of the "/" key for a
primitive "search" ability. </li>
<li>The "Ettin" monster was restored to full hitpoints. </li>
<li>The "auto-scum" code now accepts any non-boring feeling on the first four
dungeon levels. </li>
<li>The chance of out-of-depth monsters has been doubled, in such a way that
it is "possible" to get monsters which are up to 10 levels out of depth. </li>
<li>Out of depth monsters now contribute more to the level rating. </li>
<li>Several of the "stat tables" have been adjusted slightly, the main change
is that the player should get multiple blows more easily. </li>
</ul>

<h4>Bugfixes and maintenance</h4>

<ul>
<li>The "tombstone" picture is now loaded from "lib/file/dead.txt". </li>
<li>Running no longer stops next to secret doors (early release bug). </li>
<li>Wimpy monsters no longer induce cuts/stuns (early release bug). </li>
<li>The "character dump" code has been cleaned up and optimized. </li>
<li>The "list artifacts" and "list uniques" commands now use a generic
"display file" method using a temporary file. </li>
<li>You can now put "tab" characters in "help" files and other text files
used by Angband. They are expanded using eight character tab stops. </li>
<li>There are nice new generic "my<em>fgets()" and "my</em>fputs()" functions. </li>
<li>The "main-xaw.c" file now uses the "GRAPHIC_xxx" defines, and uses the
color set from "main-x11.c" which is apparently "better". </li>
<li>The "handle_stuff()" routine, and the functions which induce it, were
cleaned up and verified. </li>
<li>The "character<em>icky" flag is now used only to indicate that the "dungeon"
is not currently displayed in the main window. Most of the special screens
were modified to allow the use of "msg</em>print()". </li>
<li>The character display is no longer shown when loading a saved game, for
increased efficiency and code simplification. </li>
<li>The "notice<em>stuff()" function has been completely removed, and broken out
into various "set</em>xxx()" functions, and the functions that update the
bonuses, mana, and spells. This should increase efficiency and enforce more
correct semantics for blindness and related things. </li>
<li>The "fiddle" flag is now used only to show extra debugging messages. </li>
<li>There are new "main-win.c", "main-ibm.c", "main-ami.c", and "main-acn.c"
files. </li>
<li>The "food" code needed some work. There is now a generic "set_food()"
function, and much simpler "digestion" code. The result is faster, has
fewer possible bugs, and is much more sensitive to player </li>
<li>Some of the global arrays were made non-dynamic for efficiency. </li>
<li>Repeated commands are now handled by the command itself. The "repeat"
count is not displayed until the command is actually repeating. </li>
<li>The "attr/char" info from the "I" lines in the "x_info.txt" files have
been split out into a separate "G" line to fix some "sscanf()" problems. </li>
<li>The user can now modify the attr/char of terrain feature zero (used for
"unseen" grids), object zero (used eventually for "stacks" of items), and
monster zero (used for the "player"). </li>
<li>There are now new command line arguments to activate "graphics" mode (-g)
and "sound" mode (-v), when supported. </li>
<li>Autorolling is now "aborted" after a million rounds, and uses the same
"semi-efficient" method on all machines. </li>
<li>The "main-ibm.c" file now uses new "true color palette code", and allows
the use of the new "color specification" methods. </li>
<li>Faulty use of the "GetAppDir()" function in the Macintosh version may
have been "fixed". </li>
<li>Invisible traps can be given different attr/char codes from floors, but
the attr/char codes for invisible traps are never used. </li>
<li>The "trapper" and "lurker" monsters are now "translucent". </li>
<li>The "main-x11.c" file now handles the "mirror" window correctly. </li>
<li>Cursed shovels can no longer have a positive "pval" bonus. </li>
<li>There is a new "interact with colors" command which allows the user to
modify the internal representations of various colors, on systems which
support such modification, such as the Macintosh. </li>
<li>The special "Term_user(0)" command is now be reserved for "weird" stuff
like changing graphics/sound mode, or executing "shell" commands. </li>
<li>Various things are now updated more often in stores. </li>
<li>The "Term_pict()" function, and the related hooks, now take an attr/char
pair instead of a picture index for optimal usage. </li>
<li>Trap doors are no longer improperly created at dungeon level 99. </li>
<li>The create staircase spell now "memorizes" the new stairs. </li>
<li>Angband now autoloads the "user.prf" and "user-xxx.prf" user pref files,
plus one of "font-xxx.prf" or "graf-xxx.prf" as appropriate. </li>
<li>The "pref-xaw.prf" file now simply includes "pref-x11.prf". </li>
<li>A typo in the "pref-ibm.prf" file was fixed, and part of the file was
split off a "font-ibm.prf" file. The "pref-win.prf" file now simply
includes "pref-ibm.prf". </li>
<li>The Windows version has a new "graf-win.prf" file that "correctly"
encodes the various bitmap entries using the new row/col metaphor, plus a
"font-win.prf" file with the "non-bitmap" attr/char mappings. </li>
<li>Various "graf-xxx.prf" files were fixed to handle the four new items,
and/or the change from "seedy looking human" to "novice paladin". </li>
<li>The "dehex()" function was fixed. </li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

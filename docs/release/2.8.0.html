<!DOCTYPE html>
<title>Angband Releases: 2.8.0 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 2.8.0</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5~'>4.2.5~</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li>2.8.0<li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v2.8.0.tar.gz" title="Source tarball, 773k">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.0/angband-2.8.0-win.zip" title="Windows port, 712k zipfile">Windows</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.0/angband-2.8.0-dos.zip" title="DOS port, 594k zipfile">DOS</a></li>
<li>Mac <a href="https://github.com/angband/angband/releases/download/v2.8.0/angband-2.8.0-ppc.sit.bin.gz" title="Mac PPC port, 442k .sit.gz file">PPC</a> or <a href="https://github.com/angband/angband/releases/download/v2.8.0/angband-2.8.0-mac.sit.bin.gz" title="Mac 68k port, 357k .sit.gz file">68k</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.0/angband-2.8.0-os2.zip" title="OS/2 port, 503k zip file">OS/2</a></li>
</ul>

<h3>Background</h3>

<p>Version 2.8.0 was released on 12th October 1996 by Ben Harrison.</p>

<p>One of the major changes Ben had planned for 2.8.0 was changing the savefile code so as to allow for different (and more) information to be stored in savefiles. At some point, he realised that these changes would not in fact be consistent with his second aim for 2.8.0 - a stable release because of the nice round number.  In the interests of fixing some bugs that required the new savefile code he went ahead and moved to 2.8.0 sooner rather than later, declaring that "2.8.1 will have to be a stable version of 2.8.0".  </p>

<p>The most important of these changes was that the random number generator (RNG) state would now be stored in the savefile which would prevent some well-known forms of savefile abuse (or save-scumming), though unfortunately also open up some new ones.  It also opened up the possibility of rearranging and making space for new monsters, and reintroducing player ghosts (though of course this one didn't actually happen), amongst others.</p>

<h3>Changelist</h3>

<ul>
<li>Use "Rand<em>div()" instead of the faster but less random "Rand</em>mod()", and
save the RNG state in the savefile. </li>
<li>New methods are needed for loading/saving savefiles with the new terrain
feature flags, and to save normal options and window options so that future
option changes will not cause trouble. </li>
<li>Messages are now memorized as complete strings. The message recall window
shows one message per line, using the '4' and '6' keys to "slide" the
viewing area left and right to view long messages. </li>
<li>The "look" command now starts on the player. </li>
<li>Monsters are now healed when they drain charges from the pack. </li>
<li>The "options" interface was cleaned up somewhat. </li>
<li>The "z-term.c" function was optimized and verified some more. </li>
<li>Object destruction now uses correct pluralization rules. </li>
<li>The "overhead map window" is redrawn whenever the player moves. </li>
<li>Stupid monsters now rarely wake up when illuminated. </li>
<li>Pack combination now performs its own "reorganization", avoiding bizarre
"rearrangement" messages. </li>
<li>There is a new function to combine "paths" with "files", which allows the
use of "absolute filenames" and "tilde filenames" in certain situations,
such as the "character dump". </li>
<li>Using a "count" with the "destroy" command will bypass "verification"
unless the "other<em>query</em>flag" option is set. </li>
<li>The "wield" and "takeoff" commands now use the "w" and "t" keys (like the
original keyset) for the underlying commands, and the "[" and "]" keys are
now unused. The "_" key can now be used to enter a store, and walking onto
a store generates this "keypress". The "ctrl-e" command was replaced by the
"ctrl-i" (tab) command, to "flip" any "windows" displaying the equipment or
inventory. </li>
<li>There are some new "sub-window flags" which induce various new displays
in sub-windows, including "recall old messages" and "display complete spell
list". </li>
<li>The various "windows" are now handled in a more generic manner, using a
set of 8 pointers to "term" structures, and, for each, a set of "usage"
flags, accessable via a new "options" screen, which, in combination with
the new "p_ptr->window" field, allows the game to determine what should be
displayed in each window. </li>
<li>All of the source files were "indented" and cleaned up a bit. </li>
<li>The "main-mac.c" file was cleaned up quite a bit, and, among other
things, now allows "monster recall" to "wrap" at the window edges. </li>
<li>The "resurrection" code now works, and "cheating death" now marks your
social class as zero (and counts deaths in your age), as well as marking
your savefile as having cheated death, which disables placement on the
high-score list. </li>
<li>There is now a generalized "c_roff()" command, which provides colored,
word-wrapping, multi-line output, and which is now used for the monster
recall code, which may thus be "colored" at some point. </li>
<li>An object inscription of the form "^x" will induce verification of the
command "x" while the object is being worn. Inscribing "^;" on a shovel
will thus prevent attacking (or walking) with the shovel, while inscribing
"^+" on your weapon will prevent digging with it. </li>
<li>Several options were added, removed, modified, combined, etc, and the
"option.txt" helpfile was updated accordingly, so read it. </li>
<li>New options allow the "look" command to see everything on the current
panel, and for the "list" commands to "wrap" at the edges of the list, and
for new "special lighting effects", and for new "optimizations" of various
things, and for new "disturbance" criteria, etc. </li>
<li>The "map_info()" function was optimized, and the "special lighting
effects" were completely rewritten. </li>
<li>Shop-keeper rotation is no longer optional, and is four times as common
as before. Buying the last item from a shop now induces a possible
shop-keeper rotation, plus the creation of new stock. </li>
<li>The "feature types" can now take an index of another feature type which
they should "mimic", allowing the generic "conversion" of secret doors into
walls, all locked/jammed doors into closed doors, all walls into the same
wall, and hidden treasure into normal veins. Floors and invisible traps
often bypass this field for efficiency. </li>
<li>The general store now buys and sells basic ammunition. </li>
<li>New object/monster allocation table routines have been written, which
optimize various things, including the generation of pits and nests, and
the summon/escort code. Monster nests now contain up to 64 different types
of monsters. </li>
<li>Thrown objects (and fired missiles) now rarely "disappear" unless they
are thrown at a monster (intentionally or accidentally), or if they attempt
to land in a crowded area. </li>
<li>The "inkey()" code was cleaned up somewhat. The "default action" code in
the X11 keypress code needs to be tested. </li>
<li>The hard-coded "feature" codes were replaced with constants, plus a few
hard-coded "offsets" from the "shop" / "trap" / "door" constants. </li>
<li>Several fields and variables and such were renamed, primarily to migrate
from "inven<em>type *i</em>ptr" to "object<em>type *o</em>ptr", and from "fdat" and
"ftyp" to "info" and "feat" for cave grids. </li>
<li>The "delay()" function has been migrated into another "Term<em>xtra()" hook,
using the "TERM</em>XTRA<em>DELAY" action. All standard "main-xxx.c" files were
changed to use the new method. The "delay</em>factor" is now "cubed" when used
to give a better "range" of delay values, ranging from a single millisecond
to almost a full second. </li>
<li>Chests are now quite a bit "better" than they used to be. </li>
<li>The windows no longer continuously "shrink" in the Windows version, the
pixmaps are not "garbled", and double-clicking savefiles works. </li>
<li>Ancient "Archimedes Angband 1.2" savefiles can now be parsed. </li>
<li>Dungeon generation now uses "stack" memory instead of heap memory, since
the Windows version appeared to be fragmenting memory for no apparent reason. </li>
<li>Artifacts are no longer lost due to "aborted" level generation.</li>
<li>The "showing" ('=') action (which displays matching lines in yellow), and
the "finding" ('/') action (which changes the current line), are now
available in the online help, listing uniques/artifacts, and the message
recall, and both actions remember "previous" settings. </li>
<li>Starting a new character should reset the "cheat" options. </li>
<li>The "main-gcu.c" file needs to play games with "bool" to prevent
conflicts with various versions of "curses". </li>
<li>The "polymorph" code was slightly broken. </li>
<li>Certain versions (DOS, Windows, etc, but not Unix or Macintosh) require
the "O<em>BINARY" flag in the "fd</em>make()" and "fd<em>open()" routines in "util.c"
or the "lib/data/*.raw" files get broken. Some compilers do not support the
"O</em>CREAT" flag. (?) </li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<!DOCTYPE html>
<title>Angband Releases: 2.8.3 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 2.8.3</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5~'>4.2.5~</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li>2.8.3<li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v2.8.3.tar.gz" title="Source tarball, 804k">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-win.zip" title="Windows port, 586k zipfile">Windows</a></li>
<li>Mac <a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-ppc.sit.bin.gz" title="Mac PPC port, 644k .sit.gz file">PPC</a> or <a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-mac.sit.bin.gz" title="Mac 68k port, 601k .sit.gz file">68k</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-ros.arc" title="RISC OS port, 686k Arc file">RISC OS</a> </li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-ami.lha" title="Amiga port, 520k lha file">Amiga</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v2.8.3/angband-2.8.3-os2.zip" title="OS/2 port, 505k zip file">OS/2</a></li>
</ul>

<h3>Background</h3>

<p>Version 2.8.3 was released on 9th February 1998 by Ben Harrison.  The changes made for this release are almost entirely bugfixes and code cleanups, making it truly unusual in the time of Ben's maintainership.  </p>

<p>It also marked the last true release that Ben would make as time to devote to Angband became more scarce for him - he released 2.8.5-beta as an "unoffical testing version" more than a year later, but that was mostly a collection of other people's patches, without the dynamic changes characteristic of a Ben release.  Indeed, it mostly echoed Robert R&uuml;hlmann's unofficial 2.8.3h release that was made during a long period of Ben's absence from the newsgroup, and was never finalised.</p>

<p>The stability of this version, and gap between this release and the next official one meant that 2.8.3 was used as a leaping-off point for many of the variants that have come to characterise the Angband "scene", and many of those based on 2.8.1 also incorporated many of the bugfixes and changes made here.  For similar reasons, it is also the release that did most to define what people think of as Angband, as the game underwent relatively few gameplay changes over the next ten years or so compared to its first six.</p>

<h3>Changelist</h3>

<h4>Features</h4>

<ul>
<li>The "depth<em>in</em>feet" option has been restored due to popular demand. </li>
<li>The "show<em>flavors" option has replaced the "inventory</em>colors" option,
which (like the old "hilight<em>seams" option) can be simulated by clever use
of a user pref file (use attr 0x01 for all "E" entries). The "show</em>flavors"
option is grouped with the other "show_xxx" options. </li>
<li>The "lib/help/options.txt" help file was updated. </li>
<li>Becoming aware of an object via purchasing the object in a store now
induces pack reordering, as does quaffing potions of self knowledge. </li>
<li>The map scrolling the occurs when the player gets too close to the edge
of the map has been delayed until after the move is complete, preventing
the annoying situation in which the player is redrawn, some messages are
displayed, and then the map is redrawn. </li>
<li>Accept (but convert to underscore) all non-alphanumeric characters when
building the player "basename" from the player "fullname". This affects the
names used for new savefiles on some systems, and the names used for
player-specific user pref files on all systems. </li>
<li>The "lib/file/news.txt" file was redesigned. Various of the online help
files were updated slightly. Much commenting was performed. </li>
<li>The inventory, equipment, and browsing commands now display a special
prompt of the form "(xxx) Command: ", where "xxx" indicates what type of
special display mode is active, and then they prompt for a command. The
"total weight" is no longer displayed in the prompts. </li>
<li>The character display screens have been cleaned up and consolidated into
two screens. Both display the player name, sex, race, class, title,
hitpoints, mana, and complete stat info. The "standard" one also displays
age, height, weight, status, maximize, preserve, level, experience, gold,
burden, bonuses, infravision, skills, and history. The "special" one also
displays player level and various flags which are known to be induced by
equipment (or inate abilities). </li>
<li>Command macros have been replaced by keymaps (or normal macros). Macros
are now really intended to be used only as a simulation of real hardware
based macros, with the ability to manage them at a software level. </li>
<li>Keymaps may now specify a command count, so, for example, you can now
make a keymap from "s" to "05s" to induce semi-repeated searching, but then
you would have to use "d" or "\s" or "01s" to sell single items.
Pre-supplying an explicit command count will allow the keymap to be used
without its numeric count, so, for example, typing "01s" in the example
above would search for one turn. </li>
<li>Keymaps have been changed. For each "mode" (original and roguelike), each
"keypress" can be mapped to any sequence of keys, as with macros. This
sequence of keys will not be matched against macros or keymaps, and so
every "command key" in the sequence must be an "underlying" one. The
"interact with macros" command now allows dumping of all keymaps for the
current mode to a file, and for interactive modification of keymaps.
Keymaps can appear in user pref files. The default mappings for both
keysets are listed in the main "pref.prf" file. Commands which take a
direction now extract the legal directions from the bodies of keymaps for
the current mode. Note that a keymap may specify a sequence of several
actions, and if the "flush_failure" option is set, then any failures will
cancel any pending actions. </li>
<li>The "interact with macros (and keymaps)" screen now uses a more user
friendly method for macro/keymap creation. </li>
<li>Objects from the second page of a store are now always have indexes from
"m" to "x", and you may get/purchase objects from either "page" of the
display. The "m" and "p" and "s" store commands will be, at some point in
the future, removed. Start using "g" and "d" instead. </li>
<li>Nar the Dwarf now has the "ONLY_ITEM" flag. </li>
<li>Option "hidden_player" to hide player when running. </li>
<li>Option "verify_destroy" to verify object destruction. </li>
<li>Option "verify_special" to verify unsupported commands. </li>
<li>Option "allow_quantity" to allow quantity specification. </li>
</ul>

<h4>Bugfixes and maintenance</h4>

<ul>
<li>The "-s" command line argument now works when no high scores exist. </li>
<li>Bad assumptions about the return value of "isupper" have been fixed. </li>
<li>The character description screen now shows the correct Shots/turn, and no
longer displays the maximized stat indicator in the wrong column. </li>
<li>The "window option flags" that control the "display_player()" dumps were
renamed to reflect their actual purpose. </li>
<li>User pref file expressions now treat all printable characters except
space and brackets as "token" characters, allowing correct processing of
hyphenated race names. </li>
<li>Previously, when using "main-win.c", "main-mac.c", or "main-ami.c", the
"SAVEFILE_MUTABLE" flag told the game to pick a new name for the savefile
whenever the player name changed. This flag has been removed, and now, on
those platforms, the game will only pick a new name for the savefile when a
brand new character has just been created and the savefile has no name yet.
This means that, on these machines, changing your name will no longer
change the name of your savefile! </li>
<li>A brand new "main-emx.c" file was obtained, along with "Makefile.emx" and
"pref-emx.prf", which not only allows the use of standard macros ala
"main-ibm.prf", but which supports the full set of eight windows. </li>
<li>Some minor random cleanups were done. </li>
<li>The "misc<em>to</em>attr"/"misc<em>to</em>char" arrays have been activated, and are
being used for both "spell effects" and "object flavors", which will allow
"lib/user/font.prf" and/or "lib/user/graf.prf" to specify better attr/char
codes when they are available. It is no longer possible to force a flavored
objects to change its "appearance" when identified. </li>
<li>The "NOT" expression in user pref files has been fixed. </li>
<li>A new "main-dos.c" file has been created to leverage the "Allegro"
graphics library for DOS-386 machine. It can now be compiled with the
standard "main-ibm.c" file as a backup method. Both files have been cleaned
up somewhat. The "main-ibm.c" file now sets the cursor visibility
correctly, and cleans up the video mode on exit. </li>
<li>The "Term<em>save()" and "Term</em>load()" calls have been wrapped in new
"screen<em>save()" and "screen</em>load()" functions, with a static variable to
make sure they are never called incorrectly. The "character<em>icky" and
"character</em>xtra" flags have been converted into counters. </li>
<li>The "main-win.c" file now recognizes "keypad 5" (and various other
special keys, such as "pause"). </li>
<li>The "main-win.c" and "main-mac.c" files no longer allow the game to be
saved when it is in an inconsistant state. </li>
<li>The "bell()" function now takes a string to add to the message recall,
and it may be extended at some point to use the "plog" method to show error
messages to the user, but this would require special code for some of the
"main-xxx.c" files. </li>
<li>It is now officially illegal to "resize" the primary Angband window (this
is enforced by the "z-term.c" package), which must be at least 24x80 in
size. This change has made a lot of code faster and safer. </li>
<li>The "target" code was wrapped lightly in an interface. The "macro" and
"quark" and "message" packages were wrapped lightly as well. </li>
<li>The "dispel" prayers now do the "correct" amount of damage, that is, for
some number D between 1 and N, where N is some multiple of the player
level, all appropriate monsters take D damage. </li>
<li>The "main-xaw.c" file now saves all keypress events in "old_td", which
should fix some old bugs. </li>
<li>The "update_flow()" function was optimized. </li>
<li>The "Borg" and "Debug" commands now always prompt for acceptance of the
first usage per session, with plenty of warnings, unless a new option is set. </li>
<li>Multi-page self knowledge displays have been fixed. </li>
<li>Minor cleanups (comments, indentation, and such). </li>
<li>Most global array variables are now dynamically allocated. </li>
<li>Allow "special" artifacts to be created in any order. </li>
<li>Only the "cave<em>set</em>feat()" function may change features. </li>
<li>Cleaned up "generate.c" with some higher level functions. </li>
<li>Optimized "message<em>add()" and "object</em>desc()" functions. </li>
<li>Major optimizations of various "cave.c" functions. </li>
<li>New "project_path()" function (using actual range). </li>
<li>New "update<em>view()" code (absorbed "update</em>lite()"). </li>
<li>The entrances to shops are now more widely illuminated. </li>
<li>Compilation option for "new field of view algorithm". </li>
<li>Compilation option for "complex wall illumination". </li>
<li>There is a new "project_path()" function for calculating projection
paths. Range is now correctly applied to diagonal projections. All "ball"
attacks now auto-explode if they reach maximum range. </li>
<li>The "update<em>view()" function was optimized, and absorbed the
"update</em>lite()" function. The "display torch lit grids in yellow" option
now affects only grids which are not perma-lit. There is a new version of
the "update_view()" algorithm which is much better. </li>
<li>A new bitmap file has been uploaded for Windows Angband, and the
precompiled archive has been recreated using the new file. </li>
<li>New "ext-mac" and "ext-win" archives have been uploaded. </li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

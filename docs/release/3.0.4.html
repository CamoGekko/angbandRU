<!DOCTYPE html>
<title>Angband Releases: 3.0.4 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 3.0.4</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li>3.0.4<li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v3.0.4.tar.gz" title="Source tarball, 1.5M">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-win.zip" title="Windows port, 1.1M zipfile">Windows</a> and <a href="https://github.com/angband/angband/releases/download/v3.0.4/extra-3.0.4-win.zip" title="Fonts, sounds, etc. for the Window port. 196k zip file">extra Windows bits</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-dos.zip" title="DOS port, 1.3M zip file">DOS</a> and <a href="https://github.com/angband/angband/releases/download/v3.0.4/extra-3.0.4-dos.zip" title="Fonts, sounds, etc. for the DOS port. 185k zip file">extra DOS bits</a></li>
<li>Mac <a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-mac-osx.sit.bin" title="Mac OS X port, 1.6M .sit file">OS X</a>, <a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-mac-ppc.sit.bin" title="Mac PPC build, 1.6M .sit file">PPC</a> or <a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-mac-68k.sit.bin" title="Mac 68k port, 1.1M .sit file">68k</a>, and <a href="https://github.com/angband/angband/releases/download/v3.0.4/extra-3.0.4-mac.sit.bin" title="Extra Mac bits, 929k .sit file">extra Mac bits</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.0.4/angband-3.0.4-ros.zip" title="RISC OS port, 774k zip file">RISC OS</a></li>
</ul>

<h3>Background</h3>

<p>Version 3.0.4 was released on 6th March 2004 by Robert R&uuml;hlmann.  </p>

<p>This release had another go at improving game balance, by tweaking some rarities, artifacts, stat/ability tables, and so on.  It also incorporated the rod, staff and wand stacking system previously tested in NPPAngband and OAngband, where these items can stack with similar ones even if they have different numbers of charges left.</p>

<p>As well as this, there were all sorts of bugfixes, UI and platform-specific improvements, which are all detailed in Robert's changelist, reproduced below.</p>

<h3>Changelist</h3>

<ul>
<li>Made the water vortex immune to water-based attacks.</li>
<li>Chaos resistance protects against confusion by chaos based attacks.</li>
<li>Smoothed out the tables for extra mana-points per level, hitpoint
bonus from constitution, "spells per level" vs. "spell stat", and
INT/WIS dependent failure rate adjustment.  The old steps have been
replaced by a steady increase, so small stat improvements are more
useful.  Please note that this will also affect characters imported
from older versions, so these might gain or lose some spells, mana,
and hitpoints when imported into Angband 3.0.4.</li>
<li>Gave the 'thanc daggers a 2d4 damage dice instead of 1d4 and made them
more common. (Jonathan Ellis)</li>
<li>Gave each of the Paur* gauntlets a single minor power (slow-digestion,
regeneration, permanent light, feather fall) and made them more
common. (Jonathan Ellis)</li>
<li>Rods, wands, and staves with different charges can now be stacked.
(based on the NPPAngband version that in turn is based on
Leon Marrick's rod/wand stacking in OAngband.</li>
<li>Rods can't be recharged anymore, but can be vulnerable to electricity.</li>
<li>Rods of Recall, Perception, Curing, Healing, Restoration, and Speed
will not be destroyed by electricity.</li>
<li>Made Raal's Tome of Destruction more, and Kelek's Grimoire of Power
less common. (Timo Pietilä)</li>
<li>Heavy crossbows no longer can get the 'of the Haradrim' suffix and
'light crossbows of the Haradrim' get a smaller damage bonus. (Timo
Pietilä)</li>
<li>Removed fire brand from ammo 'of Holy Might'. (Timo Pietilä)</li>
<li>Give the short range teleport effect from gravity attacks on monsters
an additional 1 in 3 chance to teleport the monster away.  This should
make abusing the Rift spell a bit harder.</li>
<li>Added a level dependent chance to resist the teleportation effect of
gravity attacks for monsters and the player. (suggested by Jonathan
Ellis)</li>
<li>Junk items like broken sticks, empty bottles, and rodent skeletons are
no longer generated in the dungeon.</li>
<li>Removed the old haggling code.  The auto-haggling code is now
permanently active and will give the normal price of items without the
10% "sales tax".</li>
<li>Replaced the old screendump code with HTML screendump code that
handles graphics, bigscreen, bigtile, and other display oddities much
better. (based on the htmldump-patch by Darkgod).</li>
<li>Added support for artifact and ego-item descriptions. (with help from
Hallvard B Furuseth)</li>
<li>Added artifact descriptions.  The texts are mainly taken from OAngband
and other variants. (Jonathan Ellis)</li>
<li>Added object descriptions assembled by Hallvard B Furuseth.  The
descriptions are mostly copied from obj-long.spo version 3.0.2 by Hugo
Kornelis, Stephen S. Lee, Leonard Dickens and Craig Lewis.</li>
<li>Added ego item descriptions for some ego types. (Hallvard B Furuseth)</li>
<li>"Easy open" ignores broken doors now when trying to close doors.</li>
<li>Added the equipment flag matrix to the character dump.</li>
<li>Added new 8x8 tiles and tile definitions provided by "Dawnmist".</li>
<li>Added the player's maximum depth in the dungeon to the character
display and the dump.</li>
<li>Removed several broken tile definitions for the 32x32 tiles.</li>
<li>Use the proper monster flags instead of workarounds for various
resists and immunities.  This also allows the reporting of these flags
in the monster recall and the spoilers. (pointed out by Leon Marrick)</li>
<li>You can now use either 'm' or 'p' to cast spells or pray.</li>
<li>Allow direct melee attacks on visible monsters in walls.  You still
have to tunnel into the wall if you are trying to attack an invisible
monster. (suggested by Greg Stark)</li>
<li>Show infos like "It cannot be harmed by the elements." when
'Inspecting' books, just as for other item types.</li>
<li>Changed the behavior of the 'auto_more' option, so that it
automatically skips '-more-' prompts instead of not displaying
messages on the top line. (Tom Houser)</li>
<li>Changed the "Do you really want to quit?" prompt to "Do you really
want to commit suicide?".</li>
<li>Added a 'show scores' command to the knowledge menu.</li>
<li>Changed the wording for the scores display a bit.</li>
<li>Added the kill count of non-unique monsters to the knowledge menu.</li>
<li>Added a modified version of Mogami's macro trigger patch. This patch
modifies how macro trigger keys are displayed on screen and written in
.prf files.  The trigger keys are no longer displayed in ugly key code
style, such like ^<em>_FFBE\r or ^</em>O_FF53\r, but in more smart style,
such like [F1] or [alt-Right].</li>
<li>Added a better character selection screen with support for using the
cursor keys, display of info about the various race and class choices,
and context sensitive help.  The code is based on the EyAngband's
birth screen that again is probably based on ZAngband's birth screen.</li>
<li>Select the sex, race, and class choices from a dead character as
defaults for a new character.</li>
<li>Added a stripped down version of Takeshi Mogami's "auto_dump" feature
from Hengband.  Automatic pref file dumps from the game are now
marked, so that they can be replaced when dumping to the same
pref-file again.</li>
<li>Allow the banishment spell to be aborted at the "Choose a monster race
to banish" prompt without using up a scroll or charge.</li>
<li>Added John Rauser's monster list patch that allows the user to display
a list of the visible monsters in a window.</li>
<li>Improved the navigation in the help files.</li>
<li>Recharging wands or staves that have been fully *identified* before
will now automatically reveal the new number of charges in the device.
This fixes a bug where an already *ID'ed* wand or staff couldn't be
*ID'ed* again after recharging (but plain ID works), despite the
number of charges being unknown. (bug reported by Eddie Grove)</li>
<li>text<em>to</em>ascii() didn't check that the characters used in \xAB
sequences represent real hex characters.  Invalid hex sequences are
now converted to the '?' character. (reported by Kieron Dunbar)</li>
<li>Improved the handling of incomplete '\x' sequences in macros.  The old
code could skip the final NUL-byte of the string if it ended with
'\x', leading to a potential buffer overflow.</li>
<li>Fixed a typo in the description of the "wild cat". (Jay McAbee)</li>
<li>Monster groups ignored their fear when the smart_packs option was
turned on. (reported by Eddie Grove)</li>
<li>Rods and staves of probing are no longer automatically identified when
used without a monster nearby. (reported by "someog")</li>
<li>Prevent the player from being hit multiple times by area effect spells
and breaths that can blink the player (nexus, gravity).</li>
<li>The player can now get a level feeling when entering level 1 without
spending 1000 game turns in town first. (Tom Houser)</li>
<li>Branding ammo or weapons will now automatically try to combine and
reorder the resulting objects, even if the enchantment of to-hit and
to-dam fails. (reported by John D. Goulden)</li>
<li>Try to output minor warning messages (such as "illegal option choice"
when selecting a non existing item for a command) as soon as possible.
(reported by "Mogami")</li>
<li>Show all minor error messages immediately in the message window.</li>
<li>The effects of light spells are only obvious if you aren't blind.</li>
<li>Wands and rods of light don't give a message and aren't automatically
identified when using them while blind. (reported by Steve Kroon)</li>
<li>Refilling a lantern from a stack of laterns will now only use the oil
from one lantern, not from the whole stack. (reported by Jay McAbee)</li>
<li>Prevent earthquake/destruction spells from working in town.  This
prevents inappropriate messages (like "The cave ceiling collapses!").</li>
<li>Automatically try to load the "Kobold.prf" file at startup if the
player is a Kobold.</li>
<li>Improved the output of item and monster descriptions in spoilers and
character dumps.  In some cases punctuation and spaces were wrapped to
the next line.</li>
<li>The basic object spoilers only reported the prices for unidentified
items.  (reported by Hugo Kornelis)</li>
<li>Only print the "You feel (less) resistant to ..." messages when not
immune to the specific element. (reported by Jeff Greene)</li>
<li>The cursor keys in the X11 ports behave the same way now, no matter if
num-lock is on or off.</li>
<li>Change colors in main-gcu.c. This is Dominik Grzelak's patch to change
bright white from blue back to bright white. (Ed Cogburn)</li>
<li>Added a workaround for a bug in the curses version with USE_GETCH.
The news.txt screen was erased by the first call to the getch()
function. (Frank Palazzolo)</li>
<li>Angband consumed 100% of the cpu while waiting for a keypress in the
GTK port. (Sheldon Simms)</li>
<li>Allow text to be copied from the game window in the X11 port.
(modified version of the code in Kieron Dunbar's sCthangband 1.0.10)</li>
<li>Added transparency support to the 32x32 tiles in the Windows port.
This requires a modified tiles bitmap and a new transparency mask
originally created by Andrew Doull:
ftp://clockwork.dementia.org/angband/Extra/graf-32x32-304.zip</li>
<li>Removed the hackish 'Show scores' menu entry from the Windows version.
Use the new knowledge menu entry instead.</li>
<li>Applied lots of Mac specific patches by "pelpel".</li>
<li>Allow initialization of the game to continue, even if the
lib/data/*.raw files can't be written.  In that case the data parsed
from the lib/edit/*.txt files stays in memory and is used instead of
the *.raw data.  This currently wastes some memory, since the text
arrays are not resized to the minimum required length.</li>
<li>Added a performance tweak for the Angband Borg.</li>
<li>Increased the data-type of the shopkeeper purse limit from signed
16 bit to signed 32 bit.  This will allow shopkeepers with a higher
limit than 32768 gold to be added.</li>
<li>Added a compile time option to store the savefiles and scores in the
player's home directory (under ~\/.angband\/Angband/) on multi-user
machines.</li>
<li>Use a different delay function in the DOS version that works around
the restricted 55ms resolution on Windows 2000 and XP.</li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

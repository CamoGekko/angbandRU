<!DOCTYPE html>
<title>Angband Releases: 3.1.1 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 3.1.1</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5~'>4.2.5~</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li><a href='/release/3.4.0'>3.4.0</a><li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li>3.1.1<li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v3.1.1.tar.gz" title="Source tarball, 2.8M">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.1.1/angband-3.1.1-win.zip" title="Windows port, 1.5M zip file">Windows</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.1.1/Angband-3.1.1-osx.dmg" title="Max OS X port, 2.0M .dmg file">Mac OS X</a>, universal binary</li>
</ul>

<h3>Background</h3>

<p>Angband 3.1.1 beta was released on the 26th July 2009 by Anna Sidwell (though once again the list of contributors is large), a long 6 months after the previous beta release.  As the previous release had more than its fair share of bugs, the changelist includes many bugfixes but the overhaul of many significant aspects of the game also continued.</p>

<p>This was the first version of the game to be released since the completion of the Open Source project, and so was the first able to be labelled as dual-licensed under the GPL and the Angband licence at the time of release.</p>

<p>The most noticeable features were a reworking of the ID system to encourage players to use items to discover their abilities (largely the work of Eddie Grove), an overhaul of the squelch system, and shop pricing being changed with the intention of prices more accurately reflecting how useful items are to the player.</p>

<p>Internal changes included the introduction of a new savefile format and a new way of handling commands internally, neither of which should be noticable to the player.</p>

<h3>Changelist</h3>

<ul>
<li>(#29) Gold stolen by monsters is now stored in their inventory.</li>
<li>(#33) Add BRAND_FIRE to oil flasks and torches.</li>
<li>(#48) Improve the randart code a lot.</li>
<li>(#63) Dynastic character numbering support</li>
<li>(#328) 'lore' functions now write to subwindows when appropriate.</li>
<li>(#343) Add autosave on level change.</li>
<li>(#352) Probing now reveals attack and spell information.</li>
<li>(#367) Prompt for which ring to replace when wearing two</li>
<li>(#412) Monster list is no longer hallucination-proof.</li>
<li>(#448) Heal spells now identical to potions of same name</li>
<li>(#451) Fix inventory/equipment and message update in store.</li>
<li>(#496) Give wands and staves EASY_KNOW, so they no longer need ID.</li>
<li>(#521, #597, #635) Stop the slow launches and occasional non-launches on Windows.</li>
<li>(#561) 'n', when used to fire missiles, no longer ignores confusion.</li>
<li>(#562) Ego-items are now never squelched as "bad" or "average".</li>
<li>(#572) Make ID-by-use more viable by making monsters summoned from player actions have less energy</li>
<li>(#613) Prevent {!*} prompting for harmless actions.</li>
<li>(#637) Print messages when monsters crush or push past each other.</li>
<li>(#639) Reset social status to original value with quickstart</li>
<li>(#641) Fix Morgoth artifacts.</li>
<li>(#645) Fix fail rate display wrt amnesia</li>
<li>(#654) Allow pseudo to work whilst resting.</li>
<li>(#661) Prompt for how many items to buy in a store now doesn't get the number in your pack wrong when there's > 99</li>
<li>(#663) Numbers of summoned monsters now match singular/plural message text</li>
<li>(#672) Fix Evenstar activation message.</li>
<li>(#673) Fix description of Identify scrolls.</li>
<li>(#676) Fixed character creation help.</li>
<li>(#675) Fix graphics mode cloak tile bug</li>
<li>(#677) Character history now in character dump</li>
<li>(#679) Mages no longer get told they can learn more spells than they can</li>
<li>(#680) Stop displaying two highscore entries for dead characters.</li>
<li>(#682) Remove the autoroller</li>
<li>(#683) Fix !Berserk Strength being unsellable.</li>
<li>(#685) Scrolls of Create Trap now ID on use.</li>
<li>(#688) Mages once more get a message when they can't learn new spells from a book.</li>
<li>(#690) Item descriptions now take player speed into account.</li>
<li>(#691) Make of Open Wounds similar to ther pval-less rings in that it doesn't need ID.</li>
<li>(#694) Fix dropped rods recharging, and any other rod-related oddities.</li>
<li>(#696) Put character name back onto the dump.</li>
<li>(#698) Added '!' to 'R' prompt to rest until mana or hp are full.</li>
<li>(#700) Stop running one square away from already-visible monsters</li>
<li>(#705) Randart activation messages no longer refer to the original artifact.</li>
<li>(#706) Number of blows on 'I'nspection screen should be correct now</li>
<li>(#709) Don't display the wrong tile in graphics mode at detection boundaries</li>
<li>(#711, #764) Fix descriptions of area-of-effect detection.</li>
<li>(#712) Autoinscribe items in the first inventory slot.</li>
<li>(#717) Make stat potions just a little bit more common.</li>
<li>(#721) Searching bonuses are now displayed as a % increase to match the character screen.</li>
<li>(#722) Fix spoilers and wizard mode cheat info not displaying magical abilities</li>
<li>(#723) Fix support for playing in the terminal on OS X 10.4.</li>
<li>(#724) Critical hit messages come after regular hit messages again.</li>
<li>(#725) <em>Remove Curse</em> now removes all curses again.</li>
<li>(#727) Targetting warns when out-of-range</li>
<li>(#729) Random teleportation disturbs the player.</li>
<li>(#730) Mention control+[ANU] in monster recall '/' prompt.</li>
<li>(#733) Curse Weapon/Armour no longer blast your objects completely, they just curse them a bit.</li>
<li>(#734) Stop displaying the store slot bought when purchasing.</li>
<li>(#735) Remove weak pseudo-ID.</li>
<li>(#740, partial #532) Color-code monster melee attacks by how dangerous they are to the current player.</li>
<li>(#741) Stop generating spurious staircases under the player on recall/teleport.</li>
<li>(#742) Mention tunnelling ability in item descriptions.</li>
<li>(#745) Fix a monster movement bug where monster packs would try to "surround" the player without fo st checking that they weren't already.</li>
<li>(#747) ui-birth.c needs to handle going directly from character sheet to sex prompt.</li>
<li>(#748) Allow Rings of Delving to activate.</li>
<li>(#754) Have a go at using a slightly cleverer pricing algorithm for combat gear.</li>
<li>(#755) Fix pseudo-id of branded ammo, so already-known ammo doesn't get pseudo-ID'd.</li>
<li>(#762) Alchemist's Gloves are now wearable by mages</li>
<li>(#766) Scrolls of trap creation now longer crash in town.</li>
<li>(#767) Hitpoint warning now accepts only numbers from 0-9.</li>
<li>(#770) Fix item pickup energy inconsistencies.</li>
<li>(#772) Display searching bonuses for rings of searching in object descriptions again</li>
<li>(#773) General Store now restocks like other stores (e.g. more food will appear without you having to buy out all the food).</li>
<li>(#774) Ego-items with random powers no longer get duplicate powers</li>
<li>(#781) Remove the cap on potions of experience -- they always give 100k XP now.</li>
<li>(#784) Stop dumping squelch settings with other options.</li>
<li>(#792) Arriving on new levels is guaranteed to be safe</li>
<li>(#799) Elessar and Evenstar now show the right recharge times.</li>
<li>(#801) Inscriptions now shown properly in the home.</li>
<li>(#813) Potions of Healing now do what the description says they do, not something much more powerful.</li>
<li>(#814) Don't allow attacking when scared (rather than wasting a turn)</li>
<li>(#830) Fix knowledge menu crash by initialising knowledge commands earlier</li>
<li>(#839) Remove 12% of HP for ex-FORCE_MAXHP non-uniques</li>
<li>(#848) Monster list shows in/out of LOS and asleep/awake</li>
<li>(#849) Drop squelched items after ignoring them</li>
<li>(#864) Stop autoinscriptions from overwriting manual inscriptions</li>
<li>(#865) Weapon descriptions should no longer be too big for a 80x24 screen</li>
<li>(#868) Rings of Escaping have more accurate description</li>
<li>(#874) Update monster list when monsters wake up</li>
<li>(#893) Auto-pickup is no longer disabled when hitpoints are low</li>
<li>Fix bug with rods of treasure location needing ID.</li>
<li>Fix birth_money so that in point-based it still gives you 500AU.</li>
<li>Fix double-resist damage.</li>
<li>Fix pluralisation of 'staves'.</li>
<li>Fix artifact recharge times.</li>
<li>Fix displaying the special rings in the object knowledge viewer.</li>
<li>Fix randart saving/loading.</li>
<li>Add Word of Recall status to the status line.</li>
<li>Make teleport level work in ironman before DL 99, always moving downward.</li>
<li>Allow use of the object knowledge menu for setting up item-kind squelch.</li>
<li>Tone down the frequency of {excellent} items somewhat, and tweak {good} frequency.</li>
<li>Tone down detection area a wee bit.</li>
<li>Remove the 'K' command and instead put a prompt after the 'destroy' prompt.</li>
<li>Weaken PDSM just a tad.</li>
<li>Enchant Armour scrolls ID when reading them, not when they are successfully read.</li>
<li>Tone down Troll Priest HP.</li>
<li>Turn off show_flavors by default.</li>
<li>Include critical damage in the object description's average display.</li>
<li>Make Kavlax 'scary dark like Ancalagon'.</li>
<li>Curses on jewelry only happen with negative-pval items.  (temporary)</li>
<li>Only wake monsters on attack if you're not "too afraid to attack".</li>
<li>A few fixes to the visual editor on the knowledge screens.</li>
<li>Add yeeks to the monster knowledge browser.</li>
<li>Make the object knowledge list sort some items by sval rather than alphabetically.</li>
<li>Items trying to be dropped on the floor now attempt to delete the oldest item on that grid that's been squelched. </li>
</ul>

<h4>Unix ports:</h4>

<ul>
<li>Update angband man page.</li>
<li>Get debian packaging stuff working.</li>
</ul>

<h4>Curses port:</h4>

<ul>
<li>(#666) Fix out-of-bounds memory access</li>
<li>(#678) Don't leave terminal colours broken on quitting</li>
<li>Disable ^Y on BSDs, since it clashes with roguelike keyset</li>
<li>Add pseudo-graphics support</li>
<li>Use curses to parse keys, which is more portable and removes the Escape delay.</li>
</ul>

<h4>Invisible code changes:</h4>

<p>Once again, the game has seen some large-scale reworking. Mentioned here is only a small subsection of that reworking.
 - (#513) Refactor the code that prompts for character dump filenames so that it can be overriden by platform-native ports.
 - (#616) Add support for BSDish makes.
 - (#664) Refactor brands and slays so they're defined in one place and referenced elsewhere.
 - (#749) Add an id<em>only paramater to calc</em>bonuses().
 - Significant work on making the game more command-based than keypress-based
 - More flags now kept in arrays
 - Make "make clean" remove all object files in the list, to catch files in subdirectories.
 - Commit the beginnings of a flag-based terrain system; note that it does absolutely nothing as yet.
 - Make the z-virt defines cast to the right type so that assignment errors can get caught a bit ealier on.
 - Fix autoconf install errors.
 - Remove an unnecessary call to getlogin() which was screwing up su'd users.
 - Dependency generator has to add dirnames itself
 - Remove "uint" from main-x11.c.
 - Tweak the OS X makefile to be a little more terse.
 - Make the game a little bit more borg-friendly.</p>

<h4>Debug mode:</h4>

<ul>
<li>Add help file documenting debug mode.</li>
<li>Add a prompt for artifact name when using ^AC with no command count,</li>
<li>Add a prompt for monster name when using ^An with no command count.</li>
<li>Allow tweaking of curses when playing with objects </li>
</ul>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

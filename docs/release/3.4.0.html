<!DOCTYPE html>
<title>Angband Releases: 3.4.0 - angband.github.io</title>
<meta charset="utf-8">

<link href='https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400|Open+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="shortcut icon" href="/img/favicon.png" type="image/png">
<meta name="viewport" content="width=device-width">

<body >

<header>
	<div class="container">
		<h1><a href="/"><img src='/img/header.png' alt="Angband"></a></h1>
		<nav>
			<a href="/develop" >About</a>
			<a href="/release" class='selected'>Releases</a>
			<a href="https://angband.readthedocs.io/">Docs</a>
			<a href="http://angband.oook.cz/forum/">Forum</a>
		</nav>
	</div>
</header>

<div id="content">
	<div class="container">
		<h2>Angband Releases: 3.4.0</h2>

<div id="releasesnav" class="highlight_box">
<h3>Other releases:</h3>
<ul><li><a href='/release/4.2.5~'>4.2.5~</a><li><a href='/release/4.2.5'>4.2.5</a><li><a href='/release/4.2.4'>4.2.4</a><li><a href='/release/4.2.3'>4.2.3</a><li><a href='/release/4.2.2'>4.2.2</a><li><a href='/release/4.2.1'>4.2.1</a><li><a href='/release/4.2.0'>4.2.0</a><li><a href='/release/4.1.3'>4.1.3</a><li><a href='/release/4.1.2'>4.1.2</a><li><a href='/release/4.1.1'>4.1.1</a><li><a href='/release/4.1.0'>4.1.0</a><li><a href='/release/4.0.5'>4.0.5</a><li><a href='/release/4.0.4'>4.0.4</a><li><a href='/release/4.0.3'>4.0.3</a><li><a href='/release/4.0.2'>4.0.2</a><li><a href='/release/4.0.1'>4.0.1</a><li><a href='/release/4.0.0'>4.0.0</a><li><a href='/release/3.5.1'>3.5.1</a><li><a href='/release/3.5.0'>3.5.0</a><li><a href='/release/3.4.1'>3.4.1</a><li>3.4.0<li><a href='/release/3.3.2'>3.3.2</a><li><a href='/release/3.3.1'>3.3.1</a><li><a href='/release/3.3.0'>3.3.0</a><li><a href='/release/3.2.0'>3.2.0</a><li><a href='/release/3.1.2v2'>3.1.2v2</a><li><a href='/release/3.1.2'>3.1.2</a><li><a href='/release/3.1.1'>3.1.1</a><li><a href='/release/3.1.0beta'>3.1.0beta</a><li><a href='/release/3.0.9b'>3.0.9b</a><li><a href='/release/3.0.9a'>3.0.9a</a><li><a href='/release/3.0.9'>3.0.9</a><li><a href='/release/3.0.8'>3.0.8</a><li><a href='/release/3.0.7s'>3.0.7s</a><li><a href='/release/3.0.6'>3.0.6</a><li><a href='/release/3.0.5'>3.0.5</a><li><a href='/release/3.0.4'>3.0.4</a><li><a href='/release/3.0.3'>3.0.3</a><li><a href='/release/3.0.2'>3.0.2</a><li><a href='/release/3.0.1'>3.0.1</a><li><a href='/release/3.0.0'>3.0.0</a><li><a href='/release/2.9.3'>2.9.3</a><li><a href='/release/2.9.2'>2.9.2</a><li><a href='/release/2.9.1'>2.9.1</a><li><a href='/release/2.9.0'>2.9.0</a><li><a href='/release/2.8.3'>2.8.3</a><li><a href='/release/2.8.2'>2.8.2</a><li><a href='/release/2.8.1'>2.8.1</a><li><a href='/release/2.8.0'>2.8.0</a><li><a href='/release/2.7.9v6'>2.7.9v6</a><li><a href='/release/2.7.9v5'>2.7.9v5</a><li><a href='/release/2.7.9v4'>2.7.9v4</a><li><a href='/release/2.7.9v3'>2.7.9v3</a><li><a href='/release/2.7.9v2'>2.7.9v2</a><li><a href='/release/2.7.9v1'>2.7.9v1</a><li><a href='/release/2.7.8'>2.7.8</a><li><a href='/release/2.7.7'>2.7.7</a><li><a href='/release/2.7.6'>2.7.6</a><li><a href='/release/2.7.5'>2.7.5</a><li><a href='/release/2.7.4'>2.7.4</a><li><a href='/release/2.7.3'>2.7.3</a><li><a href='/release/2.7.2'>2.7.2</a><li><a href='/release/2.7.1'>2.7.1</a><li><a href='/release/2.7.0'>2.7.0</a><li><a href='/release/2.6.2'>2.6.2</a><li><a href='/release/2.6.1'>2.6.1</a><li><a href='/release/2.6.0'>2.6.0</a><li><a href='/release/2.5.9'>2.5.9</a><li><a href='/release/2.5.8'>2.5.8</a><li><a href='/release/2.5.7'>2.5.7</a><li><a href='/release/2.5.6'>2.5.6</a><li><a href='/release/pcangband-1.4'>PCAngband 1.4</a><li><a href='/release/2.5.5'>2.5.5</a><li><a href='/release/2.5.4'>2.5.4</a><li><a href='/release/2.5.3'>2.5.3</a><li><a href='/release/2.5.2'>2.5.2</a><li><a href='/release/2.5.1'>2.5.1</a><li><a href='/release/2.5.0-beta'>2.5.0-beta</a><li><a href='/release/pcangband-1.3'>PCAngband 1.3</a><li><a href='/release/pcangband-1.2'>PCAngband 1.2</a><li><a href='/release/2.4.fk'>2.4.frog-knows</a></ul>
</div>

<div class='page'>
<h3>Downloads</h3>

<ul>
<li><a href="https://github.com/angband/angband/archive/refs/tags/v3.4.0.tar.gz" title="Source tarball, 18M">Source code</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.4.0/angband-v3.4.0-win.zip" title="Windows port, 16M zip file">Windows</a></li>
<li><a href="https://github.com/angband/angband/releases/download/v3.4.0/Angband-v3.4.0-osx.dmg" title="Max OS X port, 17M .dmg file">OS X</a> (10.5+)</li>
</ul>

<h3>Background</h3>

<p>Angband 3.4.0 was released on 14th September 2012, almost a year after the previous version.  Over the previous year, there was extensive discussion about the game having become much easier compared to 2.9.0, or even 3.0.9, and this resulted in a drive to make the game harder.  However, this was not the sole focus of this release and there were many other large changes too:</p>

<ul>
<li>A new 64x64 tile set (by Shockbolt)</li>
<li>Many new monster pits and nests</li>
<li>Fuzzy detection of objects</li>
<li>Upgrade to UTF-8</li>
<li>Angels replaced with Ainu</li>
<li>Removal of all weakly cursed items</li>
<li>Torches now radius 1 light</li>
<li>Changes to monster summoning</li>
<li>Deep descent scrolls became more dangerous</li>
<li>New OS X frontend using Cocoa</li>
</ul>

<p>After this release, the pace of change in the game dropped dramatically.  This is partly because of the birth of two competing projects: v4, an offshoot of V, and Pyrel, an attempt at rewriting Angband in Python.  Both of these were being contributed to by the same development team that had formed around Angband, and as a result Angband development dropped off after this release, with the previously regular changes in 'nightly' builds being reduced to a trickle at best.</p>

<h3>Changelist</h3>

<h4>Bugs fixed</h4>

<ul>
<li>Fix opening chests in stacks (Noz)</li>
<li>Fix saving and loading so that savefile.{old|new} are ignored</li>
<li>Fix loading of graphics pref files in non-graphics mode (Blubaron)</li>
<li>Prevent spoiler calls messing with everseen info</li>
<li>Stop the hidden level-feeling tiles being displayed by accident</li>
<li>Ensure that devices IDd on unseen monsters provide feedback</li>
<li>Prevent excessive durations of monster timed effects</li>
<li>Increase MAX_ITEMLIST to cope with new ignore/squelch approach</li>
<li>Correct logic error in randart slay frequency calculation</li>
<li>Mimics behave consistently when hit by friendly fire</li>
<li>Remove pvals properly if they end up at zero (thanks PowerWyrm)</li>
<li>Stop scrolls of light segfaulting on BSD (thanks vext01)</li>
<li>Make sure that turning off randarts at birth works properly</li>
<li>Fix randarts (blows/shots supercharge, RES_STUN)</li>
<li>Use the displayed damage dice for damage calculation</li>
<li>Avoid div/0 crash in project_m for stun attacks</li>
<li>Make to-hit values IDd by shooting (thanks artes)</li>
<li>Avoid pricing errors for negative pvals (thanks PowerWyrm)</li>
<li>Remove ghost pvals on randarts</li>
<li>Initialise random name tables properly</li>
<li>Fix buggy refilling behavior</li>
<li>Partial fix to allow pick-up in darkness</li>
<li>Refresh screen after opening chests</li>
<li>Make pref file writing work with setgid installs</li>
<li>Save progress towards level feelings</li>
<li>Fix buggy earthquake logic</li>
<li>Make Heroism and Berserk spells grant boldness, like the potions</li>
<li>Avoid crash on leaving level while hallucinating (thanks PowerWyrm)</li>
<li>Prevent crash when 'r'ecalling the Everburning ego</li>
<li>Correct door fiddling/bashing messages for visible monsters</li>
<li>Fix summon_specific so it fails properly</li>
<li>Avoid crash with "reset layout" option</li>
<li>Avoid crash when clicking squelch menu </li>
</ul>

<h4>User interface</h4>

<ul>
<li>Describe each HATES_ flag only if IGNORE_ flag is not present</li>
<li>Improve the warning message for !-incribed items</li>
<li>Darken the "Study" message when current books have no new spells</li>
<li>Remove HIDE_TYPE</li>
<li>Make "purple uniques" display correctly</li>
<li>Nomad's updated tiles</li>
<li>Make shift+keypad work in the GTK port (thanks to Daniel Santos)</li>
<li>Save squelch status of items</li>
<li>Blubaron's improved tile support (graphics.txt)</li>
<li>New Cocoa front-end for Macs (thanks ridiculous_fish)</li>
<li>Blubaron's improved mouse support (Windows/SDL)</li>
<li>Remove randarts "restarting generation" messages</li>
<li>Display what monsters are known not to resist (thanks David3x3x3)</li>
<li>Many more fixes and enhancements from Blubaron</li>
<li>Add Shockbolt's 64x64 tileset</li>
<li>Even more improvements from Blubaron</li>
<li>Add Andrew White's borg</li>
<li>Nick's UTF8 glyph picker</li>
<li>Fix GCU port to recognise backspace and del as distinct keys</li>
<li>Blubaron's default layout for Windows</li>
<li>Blubaron's store UI improvement</li>
</ul>

<h4>Gameplay changes</h4>

<ul>
<li>Trap detection now detects traps on chests (thanks artes)</li>
<li>Prevent instadeaths from IDing summon scrolls/staves by use</li>
<li>Make enchant/disenchant more consistent</li>
<li>Objects on the floor no longer prevent trap creation</li>
<li>DRAIN_EXP now drains xp in proportion to total xp (thanks artes)</li>
<li>OF_LIGHT is now a pval flag</li>
<li>All items pseudo on pickup from after cl20</li>
<li>Rebalance stealth and monster detection (thanks Jens &amp; fizzix)</li>
<li>Revisit stacks of consumables (thanks Jens)</li>
<li>Rebalance to-hit vs. AC (take two, thanks Jens)</li>
<li>Ensure that PDSM can't get the Resistance ego</li>
<li>Move to fuzzy detection for objects not in LOS</li>
<li>fizzix's summoning changes</li>
<li>et seq. CunningGabe's improvements to pits</li>
<li>fizzix's animal toughening tweaks</li>
<li>Angels replaced by Ainu (thanks to Jeff Greene)</li>
<li>Increase max penalty on =Mouse, remove dam&amp;AC mods on =Dog</li>
<li>CunningGabe's mimic updates</li>
<li>Various difficulty tweaks:
<ul>
<li>reduce MAX<em>STACK</em>SIZE to 40</li>
<li>make DSM slightly rarer/deeper</li>
<li>make stuff more expensive to buy</li>
<li>reduce drops from apprentices/cutpurses</li>
<li>prevent Deep Descent and Teleport Level being sold in stacks</li>
</ul></li>
<li>takkaria's lighting changes (torches radius 1, Phial radius 2)</li>
<li>fizzix's birth changes (fewer birth points, fairer class bonuses)</li>
<li>artes's changes to monsters with poison resistance</li>
<li>Make failed special artifacts good instead of great</li>
<li>Remove DROP_GOOD from all non-uniques</li>
<li>Make Deep Descent a timed effect (like recall) and drop 250'</li>
<li>Allow PASS_WALL monsters to revert to normal pathing near permarock</li>
<li>Make object feelings react more to single great objects</li>
<li>Make artifacts give a minimum feeling of "worthwhile"</li>
<li>Reduce good/great chances for item generation</li>
<li>Destruction effects no longer destroy stairs</li>
<li>Nick's small_device option for reduce range and sight</li>
<li>Remove all remove curse items and spells (except <em>remove curse</em>)</li>
</ul>

<h4>Coding changes</h4>

<ul>
<li>Switch over to UTF-8 (thanks Noz)</li>
<li>Add desktop entries to source and buildsystem (Noz)</li>
<li>Split describe_combat (thanks artes)</li>
<li>Change S<em>IREAD and S</em>IWRITE for Android compatibility</li>
<li>Remove the now-redundant SHOW_MODS flag</li>
<li>Aerdan's updates to buildsys</li>
<li>CunningGabe's cleanup of monster code</li>
<li>Update wiz-stats</li>
<li>Remove most of limits.txt</li>
<li>pkg_deb script now excludes non-DFSG wav files</li>
<li>Replaced many indices with pointers in function calls (ongoing)</li>
<li>Remove all uses of %^s and use my_strcap() instead</li>
<li>Enable MinGW to use the buildsys, and other improvements (Noz)</li>
<li>Various improvements to Carbon and Cocoa ports (myshkin)</li>
</ul>

<h4>Documentation changes</h4>

<ul>
<li>Convert in-game docs to RST (thanks fph)</li>
<li>Document the "wipe recall" wizmode command</li>
<li>Instructions for compiling on various platforms</li>
</ul>

<h3>Thanks to:</h3>

<p>Aerdan, blubaron, buzzkill, CunningGabe, david3x3x3, Derakon, d_m, elly, fizzix magnate, myshkin, Nick, noz, Shockbolt, and takkaria</p>

</div>

<script src="/js/releases.js"></script>

	</div>
</div>

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-10039059-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
